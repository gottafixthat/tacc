/** AgentStatus - Monitors the status of the agents (extensions).
  ***************************************************************************
  * Written by R. Marc Lewis, 
  *   (C)opyright 1998-2006, R. Marc Lewis and Blarg! Oline Services, Inc.
  *   All Rights Reserved.
  *
  *  Unpublished work.  No portion of this file may be reproduced in whole
  *  or in part by any means, electronic or otherwise, without the express
  *  written consent of Blarg! Online Services and R. Marc Lewis.
  ***************************************************************************
  */


#ifndef AgentStatus_included
#define AgentStatus_included

#define AGENT_STATUS_SIGNEDOUT 0
#define AGENT_STATUS_AVAILABLE 1
#define AGENT_STATUS_ONBREAK 2

#include <qwidget.h>
#include <qlabel.h>
#include <TAAWidget.h>
#include <qlistview.h>
#include <qptrlist.h>
#include <qpushbutton.h>
#include <qpopupmenu.h>
#include "AsteriskManager.h"

class AgentStatus : public TAAWidget
{
    Q_OBJECT

public:

    AgentStatus(
        AsteriskManager *mgrptr,
        QWidget *parent = NULL,
        const char *name = NULL );

    virtual ~AgentStatus();

signals:
    void                sendAsteriskCommand(int);

protected:
    int                 agentCount;
    AsteriskManager     *am;
    QPtrList<QLabel>    names;
    QPtrList<QLabel>    locations;
    QPtrList<QLabel>    status;
    QPtrList<QLabel>    guistatus;
    QPtrList<QLabel>    callstaken;
    QPtrList<QLabel>    lastcall;
    QPushButton         *setStatusButton;
    QPopupMenu          *setStatusMenu;              

protected slots:
    void        asteriskEvent(const astEventRecord);
    void        refreshAgentList();
};

/* XPM */
static const char * signedout_xpm[] = {
"20 20 196 2",
"  	c None",
". 	c #000039",
"+ 	c #01004E",
"@ 	c #000055",
"# 	c #00005E",
"$ 	c #00005A",
"% 	c #00003E",
"& 	c #000540",
"* 	c #000060",
"= 	c #070580",
"- 	c #0F0285",
"; 	c #1D0F9A",
"> 	c #1810A1",
", 	c #0A038F",
"' 	c #130082",
") 	c #070060",
"! 	c #010043",
"~ 	c #00079D",
"{ 	c #0203C0",
"] 	c #120DCC",
"^ 	c #180EAB",
"/ 	c #130F97",
"( 	c #0B1590",
"_ 	c #0E15A3",
": 	c #1A09C9",
"< 	c #0E00C2",
"[ 	c #0103A5",
"} 	c #000061",
"| 	c #000033",
"1 	c #0A0EA3",
"2 	c #0B0DD4",
"3 	c #0506DA",
"4 	c #0705D4",
"5 	c #EEE8FF",
"6 	c #E7E9FF",
"7 	c #DFEFFF",
"8 	c #E4F0FF",
"9 	c #0C03D0",
"0 	c #0F01DD",
"a 	c #0A0CDA",
"b 	c #060FA8",
"c 	c #000050",
"d 	c #130EC3",
"e 	c #0B08D5",
"f 	c #0005AB",
"g 	c #E6EFFF",
"h 	c #0000CC",
"i 	c #0608E6",
"j 	c #0009DC",
"k 	c #020CCD",
"l 	c #E6EDFF",
"m 	c #0305AF",
"n 	c #0F0CD7",
"o 	c #0704B7",
"p 	c #000059",
"q 	c #000035",
"r 	c #181684",
"s 	c #01009F",
"t 	c #0D0CC0",
"u 	c #E7F0FF",
"v 	c #0B16BE",
"w 	c #0509E4",
"x 	c #0000F0",
"y 	c #0000F1",
"z 	c #0003DE",
"A 	c #0813BD",
"B 	c #E7EFFF",
"C 	c #0401C2",
"D 	c #1008BD",
"E 	c #0F0987",
"F 	c #000042",
"G 	c #000054",
"H 	c #0F0C81",
"I 	c #0F1376",
"J 	c #EBF4FF",
"K 	c #0509C4",
"L 	c #0000D7",
"M 	c #0106E4",
"N 	c #070EF4",
"O 	c #0409FB",
"P 	c #0001F0",
"Q 	c #0000DA",
"R 	c #0A0CD3",
"S 	c #E6E5FF",
"T 	c #1510B2",
"U 	c #100794",
"V 	c #000056",
"W 	c #00005C",
"X 	c #1A168F",
"Y 	c #F0FCFF",
"Z 	c #EBFAFF",
"` 	c #0001C6",
" .	c #0707FD",
"..	c #0000E1",
"+.	c #0000E4",
"@.	c #0000E5",
"#.	c #0304FF",
"$.	c #0A0AFF",
"%.	c #0000D3",
"&.	c #EBEBFF",
"*.	c #1513A2",
"=.	c #0B038C",
"-.	c #000058",
";.	c #000066",
">.	c #120E86",
",.	c #EEFDFF",
"'.	c #EAFCFF",
").	c #0C0FCC",
"!.	c #0000F9",
"~.	c #090DFF",
"{.	c #0006FA",
"].	c #0508FF",
"^.	c #0505FF",
"/.	c #0704FF",
"(.	c #0000DC",
"_.	c #EBECFF",
":.	c #08088A",
"<.	c #161185",
"[.	c #000044",
"}.	c #000057",
"|.	c #0E0E7C",
"1.	c #F0FBFF",
"2.	c #EBF8FF",
"3.	c #0000BC",
"4.	c #0000F4",
"5.	c #0306FF",
"6.	c #0000F6",
"7.	c #0000ED",
"8.	c #0001EA",
"9.	c #0B08DB",
"0.	c #EDEAFF",
"a.	c #0B0897",
"b.	c #181580",
"c.	c #000037",
"d.	c #141778",
"e.	c #050589",
"f.	c #B3B3FF",
"g.	c #0908E2",
"h.	c #0807FB",
"i.	c #0000F2",
"j.	c #0305F6",
"k.	c #0C11E7",
"l.	c #0002C4",
"m.	c #1015C7",
"n.	c #E1E1FF",
"o.	c #140CDB",
"p.	c #160DC2",
"q.	c #0B0776",
"r.	c #000030",
"s.	c #000047",
"t.	c #1814B1",
"u.	c #0300CA",
"v.	c #0904E7",
"w.	c #0000EA",
"x.	c #0202EE",
"y.	c #0206DB",
"z.	c #E3EBFF",
"A.	c #0811AA",
"B.	c #E7ECFF",
"C.	c #0B09C2",
"D.	c #0C00D7",
"E.	c #0700B7",
"F.	c #06018F",
"G.	c #140CD3",
"H.	c #0200DC",
"I.	c #0601E4",
"J.	c #0505D5",
"K.	c #E4EBFF",
"L.	c #A4B3FF",
"M.	c #EAF6FF",
"N.	c #0503BE",
"O.	c #0300D3",
"P.	c #1709D8",
"Q.	c #140AA7",
"R.	c #06019B",
"S.	c #0D07C3",
"T.	c #1812D6",
"U.	c #0101AF",
"V.	c #1218A2",
"W.	c #EDF9FF",
"X.	c #0D1577",
"Y.	c #100AB6",
"Z.	c #150AC8",
"`.	c #070097",
" +	c #05084F",
".+	c #000067",
"++	c #04018C",
"@+	c #0B0B91",
"#+	c #090A89",
"$+	c #0C0D81",
"%+	c #0B0B7B",
"&+	c #0C0C7E",
"*+	c #000052",
"=+	c #00005B",
"-+	c #00004E",
";+	c #040548",
"                                        ",
"                                        ",
"              . + @ # $ %               ",
"          & * = - ; > , ' ) !           ",
"        $ ~ { ] ^ / ( _ : < [ }         ",
"      | 1 2 3 4 5 6 7 8 9 0 a b .       ",
"      c d e f g h i j k l m n o p       ",
"    q r s t u v w x y z A B C D E F     ",
"    G H I J K L M N O P Q R S T U V     ",
"    W X Y Z `  ...+.@.#.$.%.&.*.=.-.    ",
"    ;.>.,.'.).!.~.{.].^./.(._.:.<.[.    ",
"    }.|.1.2.3.4.5.6.7.8...9.0.a.b.c.    ",
"    q d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.    ",
"      s.t.u.v.w.x.y.z.A.B.C.D.E.*       ",
"      | F.G.H.I.J.K.L.M.N.O.P.Q.F       ",
"        } R.S.T.U.V.W.X.Y.Z.`.W         ",
"           +.+++@+#+$+%+&+p |           ",
"              *+c =+-.-+;+              ",
"                                        ",
"                                        "};

/* XPM */
static const char * available_xpm[] = {
"20 20 178 2",
"  	c None",
". 	c #001000",
"+ 	c #001100",
"@ 	c #001200",
"# 	c #000F00",
"$ 	c #000D00",
"% 	c #000E00",
"& 	c #001800",
"* 	c #216623",
"= 	c #286A22",
"- 	c #1F6117",
"; 	c #1C621A",
"> 	c #276A27",
", 	c #2A602C",
"' 	c #001400",
") 	c #246B31",
"! 	c #0B7420",
"~ 	c #017B16",
"{ 	c #0F8316",
"] 	c #057C08",
"^ 	c #008002",
"/ 	c #0C8511",
"( 	c #137218",
"_ 	c #176E1F",
": 	c #187323",
"< 	c #001B00",
"[ 	c #1F5426",
"} 	c #1C7130",
"| 	c #0B7422",
"1 	c #097A1E",
"2 	c #046F11",
"3 	c #067A0D",
"4 	c #008300",
"5 	c #007D00",
"6 	c #067F0C",
"7 	c #067911",
"8 	c #0A7F16",
"9 	c #086313",
"0 	c #001300",
"a 	c #23672E",
"b 	c #1F6A31",
"c 	c #DDFFE4",
"d 	c #E1FFE7",
"e 	c #E7FFED",
"f 	c #235C29",
"g 	c #0C6C0A",
"h 	c #0B8308",
"i 	c #008105",
"j 	c #068407",
"k 	c #0C700E",
"l 	c #000C00",
"m 	c #3D6E37",
"n 	c #146321",
"o 	c #CAFFDA",
"p 	c #E6FFE6",
"q 	c #EFFFEB",
"r 	c #EEFFF2",
"s 	c #EAFFED",
"t 	c #2C7229",
"u 	c #066B05",
"v 	c #07840C",
"w 	c #007E00",
"x 	c #008200",
"y 	c #097508",
"z 	c #1E6229",
"A 	c #001503",
"B 	c #2A6225",
"C 	c #197427",
"D 	c #0C6B1A",
"E 	c #D2FFD3",
"F 	c #E2FFDF",
"G 	c #E3FFE4",
"H 	c #DDFFE1",
"I 	c #DBFFDC",
"J 	c #1A6B1C",
"K 	c #107A15",
"L 	c #007800",
"M 	c #018500",
"N 	c #0A7C0A",
"O 	c #1A6222",
"P 	c #20611F",
"Q 	c #0A7118",
"R 	c #128021",
"S 	c #136B14",
"T 	c #D2FFCF",
"U 	c #1A661B",
"V 	c #D5FFD9",
"W 	c #E1FFE2",
"X 	c #DBFFDB",
"Y 	c #1E7320",
"Z 	c #148114",
"` 	c #007B00",
" .	c #027702",
"..	c #29752D",
"+.	c #347A32",
"@.	c #067614",
"#.	c #007B0D",
"$.	c #0C7C0E",
"%.	c #026C00",
"&.	c #158112",
"*.	c #176D16",
"=.	c #E9FFE8",
"-.	c #EEFFED",
";.	c #CFFFCC",
">.	c #166D0F",
",.	c #0D8308",
"'.	c #087B04",
").	c #155E15",
"!.	c #105610",
"~.	c #067612",
"{.	c #00840D",
"].	c #007A00",
"^.	c #0B8705",
"/.	c #018300",
"(.	c #0D720A",
"_.	c #305931",
":.	c #F2FFF1",
"<.	c #E6FFDF",
"[.	c #CDFFC5",
"}.	c #097704",
"|.	c #127E0E",
"1.	c #1F651D",
"2.	c #307131",
"3.	c #0E791B",
"4.	c #00810D",
"5.	c #007900",
"6.	c #0D7E0A",
"7.	c #DFFFE1",
"8.	c #EBFFED",
"9.	c #DAFFD5",
"0.	c #D8FFD1",
"a.	c #127910",
"b.	c #066A07",
"c.	c #326E30",
"d.	c #0D6B17",
"e.	c #02770E",
"f.	c #0B820A",
"g.	c #027F00",
"h.	c #0B7E07",
"i.	c #206B26",
"j.	c #D9FFDE",
"k.	c #E0FFDD",
"l.	c #D8FFD4",
"m.	c #17761A",
"n.	c #136D16",
"o.	c #001900",
"p.	c #1E6928",
"q.	c #11711A",
"r.	c #177D19",
"s.	c #0D7909",
"t.	c #0B7D03",
"u.	c #0B7908",
"v.	c #12751B",
"w.	c #186B23",
"x.	c #CFFFD3",
"y.	c #246B27",
"z.	c #146B1C",
"A.	c #1B6623",
"B.	c #001D00",
"C.	c #1A6524",
"D.	c #156617",
"E.	c #11670E",
"F.	c #1B7513",
"G.	c #12720E",
"H.	c #117618",
"I.	c #0A6814",
"J.	c #2C7130",
"K.	c #2B682D",
"L.	c #266A2D",
"M.	c #001500",
"N.	c #001600",
"O.	c #001700",
"P.	c #337132",
"Q.	c #24611C",
"R.	c #20671B",
"S.	c #1B6F19",
"T.	c #1D6C1D",
"U.	c #376A32",
"                                        ",
"              . + @ + # $               ",
"          % & * = - ; > , ' '           ",
"        % ) ! ~ { ] ^ / ( _ : <         ",
"      # [ } | 1 2 3 4 5 6 7 8 9 0       ",
"      # a b c d e f g h i 5 j k &       ",
"    l m n o p q r s t u v w x y z A     ",
"    $ B C D E F G H I J K L M N O %     ",
"    . P Q R S T U V W X Y Z `  ...@     ",
"    + +.@.#.$.%.&.*.=.-.;.>.,.'.)..     ",
"    . !.~.{.].^./.(._.:.<.[.}.|.1.#     ",
"    # 2.3.4.5 5.4 6.7.8.9.0.a.b.c.l     ",
"      & d.e.f.g.x h.i.j.k.l.m.n.o.      ",
"      + p.q.r.s.t.u.v.w.x.y.z.A.0       ",
"        B.C.D.E.F.G.H.I.J.K.L.M.        ",
"          N.O.P.Q.R.S.T.U.+ +           ",
"              + o.< < O.$               ",
"                                        ",
"                                        ",
"                                        "};

/* XPM */
static const char * onbreak_xpm[] = {
"20 20 158 2",
"  	c None",
". 	c #3C0D13",
"+ 	c #89373B",
"@ 	c #A12D30",
"# 	c #B62125",
"$ 	c #BC2224",
"% 	c #A6201D",
"& 	c #810608",
"* 	c #972131",
"= 	c #6E0012",
"- 	c #780F1D",
"; 	c #5F0D0F",
"> 	c #5A1921",
", 	c #7F0C13",
"' 	c #FFC2CA",
") 	c #D80C15",
"! 	c #E30E14",
"~ 	c #C90C08",
"{ 	c #C71A16",
"] 	c #950000",
"^ 	c #9D010E",
"/ 	c #830000",
"( 	c #B83226",
"_ 	c #9D2314",
": 	c #660300",
"< 	c #550810",
"[ 	c #9F282E",
"} 	c #FFCCD3",
"| 	c #E90713",
"1 	c #F8040C",
"2 	c #EC0C0C",
"3 	c #B70000",
"4 	c #D3111C",
"5 	c #A00000",
"6 	c #8B0000",
"7 	c #8A0300",
"8 	c #840000",
"9 	c #B43337",
"0 	c #5D0008",
"a 	c #57060C",
"b 	c #6E0F0D",
"c 	c #FFD5D4",
"d 	c #E20818",
"e 	c #FA0010",
"f 	c #ED0207",
"g 	c #E80D13",
"h 	c #AE0000",
"i 	c #A0000B",
"j 	c #760202",
"k 	c #3B0000",
"l 	c #A12D3A",
"m 	c #460000",
"n 	c #631314",
"o 	c #7F2A23",
"p 	c #FFD9D3",
"q 	c #DD0B18",
"r 	c #F2000B",
"s 	c #EF0208",
"t 	c #C10000",
"u 	c #CF0B19",
"v 	c #860000",
"w 	c #840E0C",
"x 	c #620E04",
"y 	c #A03040",
"z 	c #670514",
"A 	c #5B0B0A",
"B 	c #69150A",
"C 	c #FFDBD1",
"D 	c #D50E13",
"E 	c #F40B11",
"F 	c #F71612",
"G 	c #D70400",
"H 	c #AD0000",
"I 	c #9C0000",
"J 	c #910000",
"K 	c #AF2322",
"L 	c #A82125",
"M 	c #A6272E",
"N 	c #941C26",
"O 	c #410000",
"P 	c #620E0C",
"Q 	c #86281E",
"R 	c #FFD9D1",
"S 	c #C90708",
"T 	c #E90A0D",
"U 	c #DD0400",
"V 	c #B80000",
"W 	c #CA1712",
"X 	c #9A0000",
"Y 	c #8A0000",
"Z 	c #8C0100",
"` 	c #800000",
" .	c #7E070B",
"..	c #711115",
"+.	c #721216",
"@.	c #760604",
"#.	c #FFCACA",
"$.	c #E01D23",
"%.	c #E81015",
"&.	c #D40000",
"*.	c #DF1A12",
"=.	c #970000",
"-.	c #930200",
";.	c #750500",
">.	c #3C0000",
",.	c #580F16",
"'.	c #872C31",
").	c #780407",
"!.	c #FFD2D8",
"~.	c #B9161B",
"{.	c #C0221F",
"].	c #8C0000",
"^.	c #A52824",
"/.	c #6C0601",
"(.	c #60170E",
"_.	c #421407",
":.	c #140000",
"<.	c #1D0000",
"[.	c #310000",
"}.	c #2B0000",
"|.	c #2A0000",
"1.	c #230000",
"2.	c #190000",
"3.	c #120000",
"4.	c #160000",
"5.	c #5D1518",
"6.	c #9A222C",
"7.	c #C02432",
"8.	c #BC121F",
"9.	c #B71719",
"0.	c #940000",
"a.	c #A21D0C",
"b.	c #880D00",
"c.	c #A02A1E",
"d.	c #800500",
"e.	c #AA2327",
"f.	c #7D0004",
"g.	c #75000D",
"h.	c #5C1118",
"i.	c #070300",
"j.	c #7C040D",
"k.	c #B41322",
"l.	c #C61822",
"m.	c #C72727",
"n.	c #BB281E",
"o.	c #A0230F",
"p.	c #7B0100",
"q.	c #A22720",
"r.	c #890407",
"s.	c #7C0002",
"t.	c #7C0813",
"u.	c #390000",
"v.	c #350000",
"w.	c #290000",
"x.	c #260000",
"y.	c #1E0000",
"z.	c #1B0000",
"A.	c #1F0000",
"                                        ",
"                                        ",
"                                        ",
"      . + @ # $ % & * = - ;             ",
"      > , ' ) ! ~ { ] ^ / % ( _ :       ",
"      < [ } | 1 2 3 4 5 6 7 / 8 9 0     ",
"      a b c d e f g h i j k     l m     ",
"      n o p q r s t u v w x     y z     ",
"      A B C D E F G H I J K L M N O     ",
"      P Q R S T U V W X Y Z `  ...      ",
"      +.@.#.$.%.&.*.=.-.;.>.            ",
"      ,.'.).!.~.{.].^./.(._.            ",
"        :.<.[.}.|.1.2.3.4.              ",
"                                        ",
"    5.6.7.8.9.0.a.b.c.d.e.f.g.h.i.      ",
"      j.k.l.m.n.v o.p.q.r.s.t.u.        ",
"        |.v.w.x.|.1.y.z.A.1.A.          ",
"                                        ",
"                                        ",
"                                        "};

#endif // AgentStatus_included
